<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kit de Seguridad Psicol√≥gica</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #f5f7fa 0%, #e8eef3 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1600px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 20px; }
        .hero-boat { width: 100%; max-width: 500px; margin: 10px auto 20px; padding: 30px; background: linear-gradient(135deg, #e8f4f8 0%, #b8dde6 50%, #7ec8d3 100%); border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); }
        .simple-boat { font-size: 5em; animation: floating 3s ease-in-out infinite; text-align: center; }
        @keyframes floating { 0%, 100% { transform: translateY(0) rotate(-2deg); } 50% { transform: translateY(-15px) rotate(2deg); } }
        .boat-text { text-align: center; color: #5a6c7d; margin-top: 15px; }
        h1 { color: #2c3e50; font-size: 2em; margin-bottom: 8px; }
        .subtitle { color: #5a6c7d; margin-bottom: 20px; }
        .meeting-phase, .voice-meter, .quick-actions, .truth-cards-section { background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        .phase-selector { display: flex; gap: 10px; flex-wrap: wrap; }
        .phase-btn { flex: 1; min-width: 150px; padding: 15px 20px; border: 3px solid transparent; border-radius: 12px; font-size: 1em; font-weight: bold; cursor: pointer; background: #f8f9fa; color: #5a6c7d; transition: all 0.3s; }
        .phase-btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .phase-btn.active { transform: scale(1.05); }
        .phase-btn.inicio.active { background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%); color: white; }
        .phase-btn.durante.active { background: linear-gradient(135deg, #f7b733 0%, #ffd93d 100%); color: #333; }
        .phase-btn.cierre.active { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; }
        .interactive-workspace { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-bottom: 20px; }
        .color-cards-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .voice-card { padding: 25px 15px; border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s; border: 3px solid transparent; }
        .voice-card:hover { transform: translateY(-5px) scale(1.03); box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .voice-card.selected { transform: scale(1.08); border-width: 4px; box-shadow: 0 15px 40px rgba(0,0,0,0.3); }
        .voice-card.green { background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%); color: white; }
        .voice-card.green.selected { border-color: #56ab2f; }
        .voice-card.yellow { background: linear-gradient(135deg, #f7b733 0%, #ffd93d 100%); color: #333; }
        .voice-card.yellow.selected { border-color: #f7b733; }
        .voice-card.orange { background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%); color: white; }
        .voice-card.orange.selected { border-color: #ff6b35; }
        .card-icon { font-size: 2.5em; margin-bottom: 10px; }
        .card-title { font-weight: bold; font-size: 1.1em; margin-bottom: 8px; }
        .card-desc { font-size: 0.85em; }
        .action-btn { width: 100%; padding: 18px; margin-bottom: 12px; border: none; border-radius: 12px; font-size: 1em; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        .action-btn:hover { transform: translateX(5px); box-shadow: 0 5px 20px rgba(0,0,0,0.2); }
        .action-btn.spray { background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); color: #2c3e50; }
        .action-btn.faro { background: linear-gradient(135deg, #a8322d 0%, #d66860 100%); color: white; }
        
        /* Floating music icon */
        .music-float-icon {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            border: 3px solid white;
        }
        
        .music-float-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(0,0,0,0.4);
        }
        
        .music-float-icon.playing {
            animation: musicPulse 1.5s ease-in-out infinite;
            background: linear-gradient(135deg, #19547b 0%, #ffd89b 100%);
        }
        
        /* Floating voice icon */
        .voice-float-icon {
            position: fixed;
            bottom: 30px;
            right: 110px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            border: 3px solid white;
        }
        
        .voice-float-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(0,0,0,0.4);
        }
        
        .voice-float-icon.speaking {
            animation: voicePulse 0.8s ease-in-out infinite;
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }
        
        @keyframes voicePulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        
        /* Language selector icon */
        .language-float-icon {
            position: fixed;
            bottom: 30px;
            right: 190px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            border: 3px solid white;
        }
        
        .language-float-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(0,0,0,0.4);
        }
        
        .language-menu {
            position: fixed;
            bottom: 100px;
            right: 190px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            padding: 15px;
            display: none;
            z-index: 999;
            min-width: 200px;
        }
        
        .language-menu.active {
            display: block;
            animation: slideUp 0.3s ease;
        }
        
        .language-option {
            padding: 12px 15px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
        }
        
        .language-option:hover {
            background: #f0f0f0;
            transform: translateX(5px);
        }
        
        .language-option.selected {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        @media (max-width: 768px) {
            .music-float-icon { bottom: 20px; right: 20px; width: 50px; height: 50px; font-size: 1.5em; }
            .voice-float-icon { bottom: 20px; right: 85px; width: 50px; height: 50px; font-size: 1.5em; }
            .language-float-icon { bottom: 20px; right: 150px; width: 50px; height: 50px; font-size: 1.5em; }
            .language-menu { bottom: 80px; right: 150px; min-width: 180px; }
        }
        .action-btn.bloom { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .mode-btn { padding: 10px 20px; border: 2px solid #e0e0e0; border-radius: 8px; background: white; cursor: pointer; font-weight: 600; color: #5a6c7d; transition: all 0.3s; }
        .mode-btn:hover { transform: translateY(-2px); }
        .mode-btn.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .questions-grid { display: grid; gap: 15px; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
        .question-card { background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); padding: 25px; border-radius: 12px; cursor: pointer; transition: all 0.4s; position: relative; border: 2px solid transparent; min-height: 100px; display: flex; align-items: center; justify-content: center; text-align: center; font-weight: 500; }
        .question-card::before { content: ''; position: absolute; top: 0; left: 0; width: 6px; height: 100%; }
        .question-card:hover { transform: translateY(-8px) scale(1.03); box-shadow: 0 15px 35px rgba(0,0,0,0.15); }
        .question-card.inicio::before { background: linear-gradient(180deg, #56ab2f 0%, #a8e063 100%); }
        .question-card.inicio:hover { border-color: #56ab2f; background: linear-gradient(135deg, #f0fff4 0%, #c6f6d5 100%); }
        .question-card.durante::before { background: linear-gradient(180deg, #f7b733 0%, #ffd93d 100%); }
        .question-card.durante:hover { border-color: #f7b733; background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); }
        .question-card.cierre::before { background: linear-gradient(180deg, #4facfe 0%, #00f2fe 100%); }
        .question-card.cierre:hover { border-color: #4facfe; background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); }
        .question-phase-badge { position: absolute; top: 10px; left: 10px; padding: 4px 12px; border-radius: 20px; font-size: 0.75em; font-weight: bold; text-transform: uppercase; }
        .question-phase-badge.inicio { background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%); color: white; }
        .question-phase-badge.durante { background: linear-gradient(135deg, #f7b733 0%, #ffd93d 100%); color: #333; }
        .question-phase-badge.cierre { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; }
        .recognition-section { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 15px; padding: 30px; color: white; box-shadow: 0 5px 20px rgba(0,0,0,0.15); }
        .shared-notice { background: rgba(255,255,255,0.2); padding: 12px 18px; border-radius: 10px; margin-bottom: 20px; font-size: 0.9em; }
        .recognition-input-group { display: flex; gap: 10px; margin-bottom: 25px; }
        .recognition-input-group input { flex: 1; padding: 15px; border: none; border-radius: 10px; font-size: 1em; }
        .recognition-input-group button { padding: 15px 30px; background: white; color: #4facfe; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        .recognition-input-group button:hover:not(:disabled) { transform: scale(1.05); }
        .recognition-input-group button:disabled { opacity: 0.5; cursor: not-allowed; }
        .recognition-list { display: grid; gap: 12px; max-height: 400px; overflow-y: auto; -webkit-overflow-scrolling: touch; }
        .recognition-item { background: rgba(255,255,255,0.2); padding: 18px; border-radius: 10px; border-left: 4px solid white; display: flex; justify-content: space-between; align-items: center; gap: 15px; animation: slideIn 0.5s ease; }
        @keyframes slideIn { from { opacity: 0; transform: translateX(-30px); } to { opacity: 1; transform: translateX(0); } }
        .recognition-text { flex: 1; word-break: break-word; }
        .delete-btn { background: #e74c3c; color: white; border: none; padding: 10px 18px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s; white-space: nowrap; }
        .delete-btn:hover:not(:disabled) { background: #c0392b; transform: scale(1.08); }
        .delete-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 1000; align-items: center; justify-content: center; }
        .modal.active { display: flex; }
        .modal-content { background: white; border-radius: 20px; padding: 40px; max-width: 700px; width: 90%; max-height: 80vh; overflow-y: auto; -webkit-overflow-scrolling: touch; }
        .modal-content h3 { color: #2c3e50; margin-bottom: 20px; font-size: 1.8em; }
        .modal-content h4 { color: #2c3e50; margin-top: 20px; margin-bottom: 10px; }
        .modal-content p { color: #5a6c7d; line-height: 1.8; margin-bottom: 15px; }
        .modal-content .kit-item { background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #4facfe; }
        .close-modal { background: #e74c3c; color: white; border: none; padding: 12px 25px; border-radius: 10px; font-weight: bold; cursor: pointer; margin-top: 20px; transition: all 0.3s; }
        .close-modal:hover { background: #c0392b; transform: scale(1.05); }
        .spray-effect { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 10em; opacity: 0; pointer-events: none; transition: all 1.5s; z-index: 999; width: 100%; max-width: 300px; display: flex; justify-content: center; align-items: center; }
        .spray-effect.active { opacity: 0.4; }
        .spray-message { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(168, 230, 207, 0.95); padding: 30px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); opacity: 0; pointer-events: none; transition: all 0.5s; z-index: 998; text-align: center; max-width: 500px; width: 90%; }
        .spray-message.active { opacity: 1; }
        .spray-message h3 { color: #2c3e50; margin-bottom: 10px; font-size: 1.3em; }
        .spray-message p { color: #5a6c7d; font-size: 0.95em; }
        @media (max-width: 1024px) { 
            .interactive-workspace { grid-template-columns: 1fr; } 
            .questions-grid { grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }
        }
        @media (max-width: 768px) { 
            .color-cards-grid { grid-template-columns: 1fr; } 
            .phase-selector { flex-direction: column; }
            .questions-grid { grid-template-columns: 1fr; }
            .recognition-item { flex-direction: column; align-items: flex-start; }
            .delete-btn { align-self: flex-end; width: 100%; margin-top: 10px; }
            .modal-content { padding: 25px; max-height: 85vh; }
            h1 { font-size: 1.5em; }
            .hero-boat { padding: 20px; }
            .simple-boat { font-size: 3.5em; }
            .meeting-phase, .voice-meter, .quick-actions, .truth-cards-section, .recognition-section { padding: 20px; }
            .recognition-input-group { flex-direction: column; }
            .recognition-input-group button { width: 100%; }
        }
        @media (max-width: 480px) {
            body { padding: 10px; }
            .phase-btn { min-width: 100px; padding: 12px 15px; font-size: 0.9em; }
            .voice-card { padding: 20px 10px; }
            .card-icon { font-size: 2em; }
            .card-title { font-size: 1em; }
            .action-btn { padding: 15px; font-size: 0.95em; }
            .question-card { padding: 20px; min-height: 80px; font-size: 0.95em; }
            .modal-content { padding: 20px; }
            .modal-content h3 { font-size: 1.4em; }
            .kit-item { padding: 12px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üß† Kit de Seguridad Psicol√≥gica</h1>
            <p class="subtitle">Peque√±os gestos para grandes conversaciones</p>
            <div class="hero-boat">
                <div class="simple-boat">‚õµ</div>
                <p class="boat-text">Navegando juntos hacia conversaciones m√°s seguras</p>
            </div>
        </header>
        
        <div class="meeting-phase" role="region" aria-label="Fase de la Reuni√≥n">
            <h2 style="color: #2c3e50; margin-bottom: 10px;">üìç Fase de la Reuni√≥n</h2>
            <p style="color: #5a6c7d; margin-bottom: 15px;">No tienes que usar todo a la vez ‚Äî elige lo que el equipo necesite ese d√≠a</p>
            <div class="phase-selector" role="group" aria-label="Seleccionar fase de la reuni√≥n">
                <button class="phase-btn inicio active" onclick="setPhase('inicio')">üü¢ Inicio</button>
                <button class="phase-btn durante" onclick="setPhase('durante')">üü° Durante</button>
                <button class="phase-btn cierre" onclick="setPhase('cierre')">üîµ Cierre</button>
            </div>
        </div>
        
        <div class="interactive-workspace">
            <div class="voice-meter" role="region" aria-label="Tarjetas de Colores">
                <h2>üåà Tarjetas de Colores</h2>
                <p style="color: #5a6c7d; margin-bottom: 20px;">¬øQuieres decir algo sin interrumpir? Usa una tarjeta para mantener la conversaci√≥n fluida y respetuosa</p>
                <div class="color-cards-grid" role="group" aria-label="Seleccionar tarjeta de color">
                    <div class="voice-card green" onclick="selectVoiceCard(this, 'green')">
                        <div class="card-icon">üü¢</div>
                        <div class="card-title">Verde</div>
                        <div class="card-desc">Estoy escuchando atentamente</div>
                    </div>
                    <div class="voice-card yellow" onclick="selectVoiceCard(this, 'yellow')">
                        <div class="card-icon">üü°</div>
                        <div class="card-title">Amarillo</div>
                        <div class="card-desc">Tengo una pregunta</div>
                    </div>
                    <div class="voice-card orange" onclick="selectVoiceCard(this, 'orange')">
                        <div class="card-icon">üü†</div>
                        <div class="card-title">Naranja</div>
                        <div class="card-desc">Reformulemos esto</div>
                    </div>
                </div>
            </div>
            
            <div class="quick-actions" role="region" aria-label="Acciones R√°pidas">
                <h2>‚ö° Acciones R√°pidas</h2>
                <button class="action-btn spray" onclick="activateBreathing()" aria-label="Activar pausa de respiraci√≥n guiada">üßò Pausa de Respiraci√≥n</button>
                <button class="action-btn faro" onclick="showFaro()" aria-label="Abrir gu√≠a del faro">üåü El Faro - Tu Gu√≠a</button>
                <button class="action-btn bloom" onclick="showBloom()" aria-label="Acceder a recursos de Bloom">üì± Curso Bloom</button>
            </div>
        </div>
        
        <div class="truth-cards-section" role="region" aria-label="Cartas de la Verdad">
            <h2>üÉè Cartas de la Verdad</h2>
            <p style="color: #5a6c7d; margin-bottom: 15px;">Peque√±as frases para grandes conversaciones. Haz clic para copiar al portapapeles</p>
            <div class="cards-display-mode" role="group" aria-label="Modo de visualizaci√≥n de cartas">
                <button class="mode-btn active" onclick="setCardMode('all')">üìö Ver Todas</button>
                <button class="mode-btn" onclick="setCardMode('current')">üéØ Fase Actual</button>
                <button class="mode-btn" onclick="shuffleCards()">üîÄ Mezclar</button>
            </div>
            <div id="questionsContainer" class="questions-grid"></div>
        </div>
        
        <div class="recognition-section" role="region" aria-label="Tablero de Reconocimiento">
            <h2>üíå Tablero de Reconocimiento</h2>
            <p style="margin-bottom: 15px;">Al final de la reuni√≥n, escribe un peque√±o agradecimiento. Peque√±os gestos refuerzan la confianza y el sentido de equipo.</p>
            <div class="recognition-input-group">
                <input type="text" id="recognitionInput" placeholder='Ej: "Gracias por escuchar con paciencia"' maxlength="200" aria-label="Escribe tu reconocimiento aqu√≠" />
                <button id="addBtn" onclick="addRecognition()" aria-label="Agregar reconocimiento al tablero">Agregar üíö</button>
            </div>
            <div id="recognitionList" class="recognition-list" role="list" aria-label="Lista de reconocimientos">
                <div style="text-align: center; padding: 20px;">‚è≥ Cargando...</div>
            </div>
        </div>
    </div>
    
    <div id="faroModal" class="modal">
        <div class="modal-content">
            <h3>üåü El Faro: tu gu√≠a para crear espacios seguros</h3>
            
            <p><strong id="faroWhatIsTitle">¬øQu√© es El Faro?</strong><br>
            <span id="faroWhatIsDesc">Es una peque√±a gu√≠a que te ayuda a recordar por qu√© existe el kit, c√≥mo usarlo y c√≥mo cada elemento puede ayudarte a cuidar la seguridad psicol√≥gica del grupo.</span></p>
            
            <h4 id="faroWhyTitle">üí¨ ¬øPor qu√© existe este kit?</h4>
            <p id="faroWhyDesc1">Porque en Takeda creemos que la seguridad psicol√≥gica no nace de grandes discursos, sino de peque√±os gestos: c√≥mo escuchamos, c√≥mo preguntamos, y c√≥mo damos espacio a las ideas de los dem√°s.</p>
            <p id="faroWhyDesc2">Este kit est√° aqu√≠ para acompa√±arte en esos momentos, fortalecer la confianza y crear reuniones donde todos puedan hablar con libertad, respeto y serenidad.</p>
            
            <h4 id="faroContainsTitle">üéÅ ¬øQu√© contiene?</h4>
            <p id="faroContainsDesc" style="margin-bottom: 20px;">Cada elemento tiene un prop√≥sito especial:</p>
            
            <div class="kit-item" id="faroColorCardsItem">
                <strong>üåà Tarjetas de colores</strong><br>
                ¬øQuieres decir algo sin interrumpir? Usa una tarjeta. Te ayudan a mantener la conversaci√≥n fluida y respetuosa.
            </div>
            
            <div class="kit-item" id="faroTruthCardsItem">
                <strong>üíå Cartas de la verdad</strong><br>
                ¬øSientes que tu equipo necesita reflexionar o empatizar? Elige una carta: cada una invita a pensar y conectar desde la emoci√≥n.
            </div>
            
            <div class="kit-item" id="faroRecognitionItem">
                <strong>‚≠ê Tablero de reconocimiento</strong><br>
                ¬øQuieres cerrar con gratitud? Escribe un agradecimiento o algo positivo que notaste durante la reuni√≥n. ¬°Reconocer fortalece la confianza!
            </div>
            
            <div class="kit-item" id="faroBloomItem">
                <strong>üì± Tarjeta QR de Bloom</strong><br>
                ¬øTe gustar√≠a seguir aprendiendo sobre seguridad psicol√≥gica? Escan√©ala y descubre m√°s recursos e ideas.
            </div>
            
            <div class="kit-item" id="faroBreathingItem">
                <strong>üßò Pausa de Respiraci√≥n</strong><br>
                ¬øNecesitas un momento para respirar antes de comenzar? Usa la pausa de respiraci√≥n guiada para marcar el inicio y centrar la energ√≠a del grupo en el espacio virtual.
            </div>
            
            <h4 id="faroHowTitle">ü™Ñ ¬øC√≥mo se usa?</h4>
            <p id="faroHowDesc" style="margin-bottom: 20px;">Este kit est√° hecho para reuniones reales: cortas, con muchas ideas y poco tiempo.<br>
            No tienes que usar todo a la vez ‚Äîelige lo que el equipo necesite ese d√≠a‚Äî.</p>
            
            <p><strong id="faroStartTitle">üí≠ ¬øVas a empezar una reuni√≥n?</strong><br>
            <span id="faroStartDesc">Crea el ambiente. Usa la pausa de respiraci√≥n para marcar el inicio y elige una carta con una pregunta o emoci√≥n.</span></p>
            
            <p><strong id="faroDuringTitle">üëÇ ¬øEst√°n en plena conversaci√≥n?</strong><br>
            <span id="faroDuringDesc">Ap√≥yate en las tarjetas de colores o en las cartas de la verdad. Sirven para expresar, pedir la palabra o aclarar ideas sin romper la armon√≠a.</span></p>
            
            <p><strong id="faroEndTitle">üíñ ¬øEs momento de cerrar?</strong><br>
            <span id="faroEndDesc">T√≥mate un minuto para agradecer o reconocer algo positivo. Usa el tablero o una carta de cierre para reflexionar sobre lo aprendido.</span></p>
            
            <h4 id="faroRememberTitle">üí° Recuerda</h4>
            <p id="faroRememberDesc">Usar el kit no es cambiar la forma de trabajar, sino mejorar c√≥mo nos escuchamos. Con el tiempo, estas peque√±as acciones hacen que las reuniones sean m√°s seguras, m√°s humanas y mucho m√°s efectivas.</p>
            
            <button class="close-modal" onclick="closeModal('faroModal')">Cerrar</button>
        </div>
    </div>
    
    <div id="bloomModal" class="modal">
        <div class="modal-content">
            <h3 id="bloomTitle">üéß Seguridad Psicol√≥gica en Bloom</h3>
            <p id="bloomDesc1">Ampl√≠a tus conocimientos sobre seguridad psicol√≥gica con nuestros recursos y cursos en Bloom.</p>
            <div style="text-align: center; margin: 30px 0;">
                <a href="https://takeda.edcast.com/smartsearch?q=Seguridad+psicologica" target="_blank" style="text-decoration: none;">
                    <div style="width: 150px; height: 150px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin: 0 auto; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 4em; cursor: pointer; transition: all 0.3s; box-shadow: 0 5px 20px rgba(0,0,0,0.2);" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">üìö</div>
                    <p style="margin-top: 20px; color: #667eea; font-weight: 600; font-size: 1.1em;" id="bloomClick">Haz clic para acceder a los recursos</p>
                </a>
            </div>
            <p id="bloomDesc2">Descubre herramientas, cursos y recursos para crear espacios donde todos se sientan seguros para compartir ideas y aprender de los errores.</p>
            <button class="close-modal" onclick="closeModal('bloomModal')">Cerrar</button>
        </div>
    </div>
    
    <div class="spray-effect" id="breathingEffect">
        <div style="width: 200px; height: 200px; background: radial-gradient(circle, #a8e6cf 0%, #56ab2f 100%); border-radius: 50%; animation: breathe 4s ease-in-out infinite;"></div>
    </div>
    <div class="spray-message" id="breathingMessage">
        <h3 id="breathTitle">üßò Pausa de Respiraci√≥n</h3>
        <p><strong id="breathText">Inhala profundo... Exhala despacio...</strong></p>
        <p style="font-style: italic; margin-top: 10px;" id="breathDesc">T√≥mate un momento para centrar tu energ√≠a</p>
    </div>

    <!-- >>> NEW: Birds audio element <<< -->
    <audio id="birdsAudio" loop>
        <!-- Change 'birds.mp3' to the correct path of your birds sound file -->
        <source src="birds.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
    </audio>
    <!-- >>> END NEW AUDIO ELEMENT <<< -->
    
    <!-- Floating music icon -->
    <div class="music-float-icon" id="musicIcon" onclick="toggleBackgroundMusic()" title="M√∫sica Ambiental">
        üéµ
    </div>
    
    <!-- Floating voice icon -->
    <div class="voice-float-icon" id="voiceIcon" onclick="toggleVoiceReader()" title="Lector de Voz - Accesibilidad">
        üîä
    </div>
    
    <!-- Floating language icon -->
    <div class="language-float-icon" id="languageIcon" onclick="toggleLanguageMenu()" title="Cambiar Idioma">
        üåê
    </div>
    
    <!-- Language menu -->
    <div class="language-menu" id="languageMenu">
        <div class="language-option selected" onclick="changeLanguage('es')" data-lang="es">
            üá™üá∏ Espa√±ol
        </div>
        <div class="language-option" onclick="changeLanguage('en')" data-lang="en">
            üá∫üá∏ English
        </div>
        <div class="language-option" onclick="changeLanguage('pt')" data-lang="pt">
            üáßüá∑ Portugu√™s
        </div>
        <div class="language-option" onclick="changeLanguage('fr')" data-lang="fr">
            üá´üá∑ Fran√ßais
        </div>
        <div class="language-option" onclick="changeLanguage('de')" data-lang="de">
            üá©üá™ Deutsch
        </div>
        <div class="language-option" onclick="changeLanguage('ja')" data-lang="ja">
            üáØüáµ Êó•Êú¨Ë™û
        </div>
        <div class="language-option" onclick="changeLanguage('zh')" data-lang="zh">
            üá®üá≥ ‰∏≠Êñá
        </div>
    </div>
    
    <style>
        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.5); opacity: 0.8; }
        }
    </style>
    
    <script>
        // ------------- existing translations + logic (truncated for brevity) -------------
        // (All the translations object and other JS you already had go here)
        // I am not repeating the whole translations object to keep this concise,
        // but you should keep your full original script content above the new functions.

        // >>> BEGIN: your existing script content from index.html <<<
        // (Paste all the JS from your current file here; I will only add the new pieces at the bottom.)
        // >>> END: your existing script content <<<


        // ========== NEW JS FOR BIRDS AUDIO ON MUSIC BUTTON ==========

        let isMusicPlaying = false;

        function toggleBackgroundMusic() {
            const audio = document.getElementById('birdsAudio');
            const icon = document.getElementById('musicIcon');

            if (!audio) {
                console.warn('birdsAudio element not found');
                return;
            }

            if (!isMusicPlaying) {
                audio.play().then(() => {
                    isMusicPlaying = true;
                    icon.classList.add('playing');
                    showToast('üéµ M√∫sica de p√°jaros activada');
                }).catch(err => {
                    console.error('No se pudo reproducir el audio:', err);
                    showToast('‚ùå No se pudo reproducir el audio. Revisa permisos del navegador.');
                });
            } else {
                audio.pause();
                isMusicPlaying = false;
                icon.classList.remove('playing');
                showToast('üéµ M√∫sica detenida');
            }
        }

        // Simple toast helper (uses browser alert if you do not have a custom notifier)
        function showToast(message) {
            // If you already have a nicer notification system, hook into it here.
            // For now, this falls back to console + alert.
            console.log(message);
            // Comment out alert if you do not want pop‚Äëups:
            // alert(message);
        }
    </script>
</body>
</html>



